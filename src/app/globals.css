@import "tailwindcss";
@custom-variant dark (&:where(.dark *));

/* ---------- BRAND + SURFACES FROM YOUR FLUTTER THEME ---------- */
/* Hex → HSL (computed) for precision:
   _brand      #3D5A80 → hsl(214 35% 37%)
   _accent     #E07A5F → hsl( 13 68% 63%)
   _danger     #B00020 → hsl(349 100% 35%)
   darkSurface #0F0F10 → hsl(240  3%  6%)
   darkHigh    #141416 → hsl(240  5%  8%)
   lightHigh   #F7F7F8 → hsl(240  7% 97%)
   lightCard   #FDFDFE → hsl(240 33% 99%)
   inputDark   #151618 → hsl(220  7%  9%)
   inputLight  #F6F7F9 → hsl(220 20% 97%)
   chipDark    #17181A → hsl(220  6% 10%)
   chipLight   #F4F5F7 → hsl(220 16% 96%)
   snackDark   #1B1C1E → hsl(220  5% 11%)
*/

:root {
    /* Surfaces */
    --surface: 0 0% 100%;                 /* Flutter: Colors.white */
    --surface-container-highest: 240 7% 97%;  /* #F7F7F8 */

    /* Foregrounds */
    --on-surface: 222 47% 11%;            /* deep ink */
    --on-surface-variant: 215 16% 47%;

    /* Outline/borders */
    --outline-variant: 215 16% 90%;

    /* Brand (primary/secondary/tertiary) */
    --primary: 214 35% 37%;               /* _brand #3D5A80 */
    --primary-foreground: 0 0% 100%;
    --secondary: 13 68% 63%;              /* _accent #E07A5F */
    --secondary-foreground: 0 0% 100%;
    --tertiary: 190 90% 39%;              /* for accents if needed */

    /* Status */
    --success: 123 46% 34%;               /* #2E7D32 (not default shadcn, we map below) */
    --warning: 27 98% 47%;                /* #ED6C02 (optional) */
    --error: 349 100% 35%;                /* _danger #B00020 */

    /* Component tones */
    --card-light: 240 33% 99%;            /* #FDFDFE */
    --input-light: 220 20% 97%;           /* #F6F7F9 */
    --chip-light: 220 16% 96%;            /* #F4F5F7 */

    /* Radius from Flutter (12px ≈ 0.75rem, 16px ≈ 1rem) */
    --radius: 0.75rem;
    --radius-lg: 1rem;
}

.dark {
    --surface: 240 3% 6%;                 /* #0F0F10 */
    --surface-container-highest: 240 5% 8%;   /* #141416 */

    --on-surface: 0 0% 98%;
    --on-surface-variant: 220 12% 65%;

    --outline-variant: 220 12% 22%;

    /* Brand slightly brighter in dark, but same hue family */
    --primary: 214 35% 43%;               /* brighten a touch if desired */
    --primary-foreground: 214 15% 12%;
    --secondary: 13 68% 63%;
    --secondary-foreground: 13 20% 12%;
    --tertiary: 190 90% 51%;

    --success: 123 46% 40%;
    --warning: 27 98% 52%;
    --error: 349 100% 40%;

    --card-light: 240 5% 11%;             /* snack-like tone in dark */
    --input-light: 220 7% 9%;
    --chip-light: 220 6% 10%;
}

/* ---------- MAP TO shadcn SEMANTIC TOKENS ---------- */
@theme {
    /* shadcn required tokens */
    --color-background: hsl(var(--surface));
    --color-foreground: hsl(var(--on-surface));

    --color-card: hsl(var(--card-light));                 /* Card surfaces */
    --color-card-foreground: hsl(var(--on-surface));

    --color-popover: hsl(var(--surface));
    --color-popover-foreground: hsl(var(--on-surface));

    --color-primary: hsl(var(--primary));
    --color-primary-foreground: hsl(var(--primary-foreground));

    --color-secondary: hsl(var(--secondary));
    --color-secondary-foreground: hsl(var(--secondary-foreground));

    --color-muted: hsl(var(--surface-container-highest)); /* subtle blocks */
    --color-muted-foreground: hsl(var(--on-surface-variant));

    --color-accent: hsl(var(--tertiary));                 /* optional accent */
    --color-accent-foreground: hsl(0 0% 100%);

    --color-destructive: hsl(var(--error));
    --color-destructive-foreground: hsl(0 0% 100%);

    --color-border: hsl(var(--outline-variant));
    --color-input: hsl(var(--outline-variant));
    --color-ring: hsl(var(--primary));

    --radius: var(--radius);
}

/* ---------- BASE: match Flutter scaffold + typography weight ---------- */
@layer base {
    html, body, :host { height: 100%; }
    body { @apply bg-background text-foreground; }
    * { @apply border-border; }
}

/* ---------- OPTIONAL: convenience utility hooks for success/warning ---------- */
/* shadcn doesn't define success/warning by default; add small helpers */
@layer utilities {
    .bg-success { background-color: hsl(var(--success)); }
    .text-success { color: hsl(var(--success)); }
    .bg-warning { background-color: hsl(var(--warning)); }
    .text-warning { color: hsl(var(--warning)); }
}